<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <title>home</title>
  <link rel="stylesheet" href="/css/form-style.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<body>
  <div class="header">
    <p class="logo">グループ選択</p>
    <a href="/logout" class="logout-button"><span class="material-icons">logout</span>ログアウト</a>
  </div>
  <div class="wrap">
    <div class="main_home">
      <div th:each="group:${groups}">
        <p class="container group">
          <a th:href="@{/calendar(id=${group.groupid})}">
            [[${group.groupname}]]
          </a>
        </p>
      </div>
    </div>

    <div th:if="${newgroupflag == null}">
      <a href="/newgroup" class="button"><span class="material-icons">newgroup</span>新しくグループを作る</a>
    </div>
    <div th:if="${newgroupflag}">
      <form method="post" th:action="@{/makenewgroup}" class="add_group">
        <legend>参加させるユーザー</legend>
        <div th:each="user:${allusers}">
          <input type="checkbox" th:id="${user.userid}" name="imputUsers" th:value="${user.userid}" checked />
          <label for="[[${user.username}]]">[[${user.username}]]</label>
        </div>

        <p>グループ名を入力して下さい</p>
        <label>
          <input type="text" name="newGroupName" />
        </label>
        <input type="submit" value="変更" />
      </form>
    </div>

    <div th:if="${deleteGroupFlag == null}">
      <a href="/deleteGroupFlag">グループの削除</a>
    </div>
    <div th:if="${deleteGroupFlag}">
      <form method="post" th:action="@{/deleteGroup}">
        <div th:each="group:${groups}">
          <input type="radio" th:value="${group.groupid}" name="selectedGroup" />[[${group.groupname}]]
        </div>
        <input type="submit" value="削除" />
      </form>
    </div>
  </div>
</body>

</html>
